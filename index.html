<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PROTOCOLO VIP</title>
    
    <!-- ====================================================== -->
    <!-- "PROTOCOLO DE MARKETING" (Open Graph Tags)             -->
    <!-- Este es el "Anzuelo" del Link para TikTok/X/WhatsApp  -->
    <!-- ====================================================== -->
    <meta property="og:title" content="PROTOCOLO VIP | El Club de Lore">
    <meta property="og:description" content="La Jefa del NeÃ³n ðŸ‘‘ | Â¿Te atreves a entrar a la travesura? (Cosplay/Grok/MÃºsica)">
    
    <!-- 
      Productor: Â¡ACCIÃ“N REQUERIDA! 
      Si desea que la imagen se vea al compartir en WhatsApp, debe usar una URL absoluta (https://...).
      He dejado la URL anterior por si funciona, pero para PWA usamos los iconos locales.
    -->
    <meta property="og:image" content="https://raw.githubusercontent.com/Yanzsmartwood2025/JUSN38/main/Lore%20PROTOCOLO%20VIP/Picsart_25-11-08_11-13-59-676.jpg">
    
    <meta property="og:type" content="website">
    
    <!-- Productor: Ponga el link de Vercel aquÃ­ cuando lo tenga -->
    <meta property="og:url" content="https://protocolo-vip-web.vercel.app"> 
    
    <!-- Para X (Twitter) -->
    <meta name="twitter:card" content="summary_large_image">
    <!-- ====================================================== -->

    <!-- Carga de Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- FontAwesome para Iconos de Redes Sociales -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Firebase App (the core Firebase SDK) is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <!-- Add Firebase products that you want to use -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>

    <!-- ConfiguraciÃ³n Local de Firebase -->
    <script src="firebase/firebase-config.js"></script>
    <script src="firebase/auth.js"></script>
    
    <!-- Meta Tags de PWA (Para "Descargar la App") -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#0a0a0a"> <!-- MODIFICADO: Coincide con el color de fondo del cuerpo -->
    
    <!-- Iconos para iOS -->
    <link rel="apple-touch-icon" href="assets/imagenes/Lore-192x192.png">
    <link rel="apple-touch-icon" sizes="180x180" href="assets/imagenes/Lore-180x180.png">
    <link rel="apple-touch-icon" sizes="120x120" href="assets/imagenes/Lore-120x120.png">

    <!-- Productor: AquÃ­ irÃ¡ su manifest.json -->
    <link rel="manifest" href="/manifest.json">

    <style>
        /* (Estilos de NeÃ³n... sin cambios) */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&family=Playfair+Display:wght@700&display=swap');

        body {
            font-family: 'Inter', sans-serif;
            background-color: #0a0a0a;
            color: #f0f0f0;
        }
        .lore-title {
            font-family: 'Playfair Display', serif;
            font-size: 4rem;
            color: white;
            text-shadow: 0 0 15px rgba(255, 255, 255, 0.7), 0 0 5px rgba(255, 255, 255, 0.5);
            animation: fadeIn 2s ease-in-out;
        }
        .btn-neon {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 80%;
            max-width: 300px;
            height: 100px;
            border: 2px solid;
            border-radius: 0.75rem;
            font-size: 1.5rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .btn-neon-fan {
            border-color: #00f2ea;
            color: #00f2ea;
            box-shadow: 0 0 10px rgba(0, 242, 234, 0.5), 0 0 20px rgba(0, 242, 234, 0.3);
        }
        .btn-neon-fan:hover {
            background-color: #00f2ea;
            color: #0a0a0a;
            box-shadow: 0 0 20px rgba(0, 242, 234, 0.8), 0 0 40px rgba(0, 242, 234, 0.5);
        }
        .btn-neon-vip {
            border-color: #f000b8;
            color: #f000b8;
            box-shadow: 0 0 10px rgba(240, 0, 184, 0.5), 0 0 20px rgba(240, 0, 184, 0.3);
        }
        .btn-neon-vip:hover {
            background-color: #f000b8;
            color: #0a0a0a;
            box-shadow: 0 0 20px rgba(240, 0, 184, 0.8), 0 0 40px rgba(240, 0, 184, 0.5);
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
    </style>
</head>
<body class="overflow-hidden flex flex-col h-screen">

    <div id="app" class="flex-grow relative w-full overflow-hidden flex flex-col">

        <!-- ====================================================== -->
        <!-- PANTALLA 1: "SPLASH SCREEN" (El "Bouncer" de 4s)        -->
        <!-- ====================================================== -->
        <div id="splash-screen" class="fixed inset-0 flex flex-col justify-center items-center w-full h-full bg-black z-50 hidden">
            <!-- 
                Productor: Ponga su "Splash Screen" (Foto 231924.jpg) como un video/imagen aquÃ­.
                UsarÃ© un placeholder del logo "Lore" por ahora.
            -->
            <div class="z-10">
                <h1 class="lore-title">Lore</h1>
            </div>
        </div>

        <!-- ====================================================== -->
        <!-- PANTALLA 2: "LOBBY" (Las Dos Puertas)                   -->
        <!-- (Su captura 231738.png se ve perfecta)                -->
        <!-- ====================================================== -->
        <div id="lobby-screen" class="hidden flex-grow flex flex-col justify-center items-center w-full overflow-y-auto p-8 space-y-8 animate-fadeIn">
            <h2 class="text-3xl font-bold text-center text-gray-300">Bienvenido al</h2>
            <h1 class="text-5xl font-black text-center text-white uppercase tracking-widest">Protocolo VIP</h1>
            <p class="text-center text-gray-400">Elige tu travesura, mor.</p>

            <div class="w-full h-1px bg-gray-700 my-4"></div>

            <!-- BotÃ³n de Instalar PWA (Oculto por defecto) -->
            <button id="install-btn" class="hidden bg-purple-600 text-white font-bold py-2 px-4 rounded flex items-center space-x-2 hover:bg-purple-700 transition duration-300 border border-purple-500 shadow-[0_0_10px_rgba(147,51,234,0.5)]">
                <span>ðŸ“² Instalar App</span>
            </button>

            <!-- BotÃ³n de Login Firebase -->
            <button onclick="signInWithGoogle()" class="bg-white text-black font-bold py-2 px-4 rounded flex items-center space-x-2 hover:bg-gray-200 transition duration-300">
                <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" alt="Google Logo" class="w-5 h-5">
                <span>Iniciar SesiÃ³n con Google</span>
            </button>

            <!-- BotÃ³n 1: Puerta FAN -->
            <a href="fan/index.html" class="btn-neon btn-neon-fan no-underline">
                ðŸŽ§ Puerta FAN
            </a>
            <p class="text-sm text-gray-500 text-center">(Contenido "Trueque" + Spotify)</p>

            <!-- BotÃ³n 2: Puerta VIP -->
            <a href="vip/index.html" class="btn-neon btn-neon-vip no-underline mb-4"> <!-- Margen inferior aÃ±adido -->
                ðŸ’Ž Puerta VIP
            </a>
            <p class="text-sm text-gray-500 text-center -mt-4 mb-6"> <!-- Margen superior negativo y margen inferior -->
                (Grok + Cripto + "Â¿QuiÃ©n es Cripto? Â¡Muy Caliente!")
            </p>

            <!-- Iconos de Redes Sociales -->
            <div class="flex justify-center space-x-5">
                <a href="https://facebook.com" target="_blank" class="text-gray-400 hover:text-white transition-colors text-2xl">
                    <i class="fab fa-facebook-f"></i>
                </a>
                <a href="https://tiktok.com" target="_blank" class="text-gray-400 hover:text-white transition-colors text-2xl">
                    <i class="fab fa-tiktok"></i>
                </a>
                <a href="https://youtube.com" target="_blank" class="text-gray-400 hover:text-white transition-colors text-2xl">
                    <i class="fab fa-youtube"></i>
                </a>
                <a href="https://x.com" target="_blank" class="text-gray-400 hover:text-white transition-colors text-2xl">
                    <i class="fab fa-twitter"></i> <!-- Nota: Font Awesome aÃºn puede usar 'fa-twitter' para X -->
                </a>
                <a href="https://instagram.com" target="_blank" class="text-gray-400 hover:text-white transition-colors text-2xl">
                    <i class="fab fa-instagram"></i>
                </a>
            </div>
        </div>
    </div>

    <!-- El Footer (Solo TÃ©rminos y Condiciones) -->
    <footer class="w-full text-center p-4 z-10 bg-black">
        <p class="text-xs text-gray-600">
            Â© 2025 Jusn 38. Todos los derechos reservados. <br class="sm:hidden">
            <a href="terms/index.html" class="underline">TÃ©rminos y Condiciones</a>
        </p>
    </footer>

    <script>
        // --- La "MÃ¡quina" (El Router JS) ---

        // 1. Obtenemos las "pantallas"
        const splashScreen = document.getElementById('splash-screen');
        const lobbyScreen = document.getElementById('lobby-screen');

        const screens = {
            'splash': splashScreen,
            'lobby': lobbyScreen
        };

        // 2. La funciÃ³n "MÃ¡gica" que cambia de pantalla
        function showScreen(screenId) {
            // Oculta todas
            for (const id in screens) {
                if (screens.hasOwnProperty(id)) {
                    screens[id].classList.add('hidden');
                }
            }
            // Muestra la correcta
            if (screens[screenId]) {
                screens[screenId].classList.remove('hidden');
            }
        }
        
        // --- El "Arranque" (El "Flywheel") ---
        
        // Comprobamos si ya ha visitado para saltar el splash
        const hasVisited = sessionStorage.getItem('hasVisited');

        if (hasVisited) {
            showScreen('lobby');
        } else {
            showScreen('splash');
            // (Productor: 4000ms = 4 segundos)
            setTimeout(() => {
                showScreen('lobby'); // Muestra el "Lobby" (Las Dos Puertas)
                sessionStorage.setItem('hasVisited', 'true');
            }, 4000);
        }

        // Registro del Service Worker para PWA
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then((registration) => {
                        console.log('Service Worker registrado con Ã©xito:', registration.scope);
                    })
                    .catch((error) => {
                        console.log('Fallo al registrar el Service Worker:', error);
                    });
            });
        }

        // --- LÃ³gica de InstalaciÃ³n PWA ---
        let deferredPrompt;
        const installBtn = document.getElementById('install-btn');

        window.addEventListener('beforeinstallprompt', (e) => {
            // Prevenir que Chrome 67 y anteriores muestren automÃ¡ticamente el prompt
            e.preventDefault();
            // Guardar el evento para que pueda ser disparado despuÃ©s.
            deferredPrompt = e;
            // Actualizar la UI para notificar al usuario que puede aÃ±adir a la pantalla de inicio
            installBtn.classList.remove('hidden');
        });

        installBtn.addEventListener('click', async () => {
            // Ocultar nuestra UI de "Instalar"
            installBtn.classList.add('hidden');
            // Mostrar el prompt de instalaciÃ³n
            if (deferredPrompt) {
                deferredPrompt.prompt();
                // Esperar a que el usuario responda al prompt
                const { outcome } = await deferredPrompt.userChoice;
                console.log(`User response to the install prompt: ${outcome}`);
                // Ya no podemos usar el deferredPrompt, descartarlo
                deferredPrompt = null;
            }
        });
    </script>
</body>
  </html>