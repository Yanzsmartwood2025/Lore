<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>PROTOCOLO VIP | El Club de Lore</title>
    
    <!-- Evitar cach茅 agresivo -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">

    <meta property="og:title" content="PROTOCOLO VIP | El Club de Lore">
    <meta property="og:description" content="La Jefa del Ne贸n  | 驴Te atreves a entrar a la travesura?">
    <meta property="og:type" content="website">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Firebase SDK (Versi贸n 8 Compat) -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&family=Playfair+Display:wght@700&display=swap');

        body {
            font-family: 'Inter', sans-serif;
            background-color: #050505;
            color: #f0f0f0;
            -webkit-tap-highlight-color: transparent;
        }

        /* --- Animaciones del Logo --- */
        .lore-title {
            font-family: 'Playfair Display', serif;
            font-size: 4rem;
            color: white;
            text-shadow: 0 0 15px rgba(255, 255, 255, 0.7), 0 0 5px rgba(255, 255, 255, 0.5);
            animation: pulseGlow 3s infinite alternate;
        }

        @keyframes pulseGlow {
            from { text-shadow: 0 0 10px rgba(255,255,255,0.4); }
            to { text-shadow: 0 0 25px rgba(255,255,255,0.8), 0 0 15px #f000b8; }
        }

        /* --- Botones Ne贸n --- */
        .btn-neon {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 85%;
            max-width: 320px;
            height: 90px;
            border: 2px solid;
            border-radius: 1rem;
            font-size: 1.4rem;
            font-weight: 800;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            text-decoration: none;
            position: relative;
            overflow: hidden;
            background: rgba(0,0,0,0.4);
            backdrop-filter: blur(5px);
        }

        .btn-neon-fan {
            border-color: #00f2ea;
            color: #00f2ea;
            box-shadow: 0 0 15px rgba(0, 242, 234, 0.2);
        }
        .btn-neon-fan:active, .btn-neon-fan:hover {
            background-color: rgba(0, 242, 234, 0.1);
            box-shadow: 0 0 30px rgba(0, 242, 234, 0.6);
            transform: scale(0.98);
        }

        .btn-neon-vip {
            border-color: #f000b8;
            color: #f000b8;
            box-shadow: 0 0 15px rgba(240, 0, 184, 0.2);
        }
        .btn-neon-vip:active, .btn-neon-vip:hover {
            background-color: rgba(240, 0, 184, 0.1);
            box-shadow: 0 0 30px rgba(240, 0, 184, 0.6);
            transform: scale(0.98);
        }

        .animate-fadeIn {
            animation: fadeIn 1s ease-out forwards;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Iconos Sociales Hover */
        .social-icon:hover {
            transform: scale(1.2);
            filter: drop-shadow(0 0 5px rgba(255,255,255,0.8));
        }
    </style>
</head>
<body class="overflow-hidden flex flex-col h-screen bg-black text-white">

    <div id="app" class="flex-grow relative w-full overflow-hidden flex flex-col">

        <!-- ====================================================== -->
        <!-- PANTALLA 1: SPLASH SCREEN (El Bouncer)                 -->
        <!-- ====================================================== -->
        <div id="splash-screen" class="fixed inset-0 flex flex-col justify-center items-center w-full h-full bg-black z-50 transition-opacity duration-1000">
            <div class="z-10 text-center relative">
                <!-- Efecto de luz de fondo -->
                <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-purple-900 rounded-full filter blur-[80px] opacity-30 animate-pulse"></div>
                
                <h1 class="lore-title mb-2 relative z-10">LORE</h1>
                <p class="text-gray-400 text-xs tracking-[0.3em] uppercase relative z-10">Acceso Restringido</p>
                
                <!-- Loading Spinner -->
                <div class="mt-12 relative z-10">
                    <div class="w-12 h-1 bg-gray-800 rounded-full overflow-hidden mx-auto">
                        <div class="h-full bg-gradient-to-r from-cyan-400 to-purple-600 w-1/2 animate-[shimmer_1s_infinite_linear]"></div>
                    </div>
                </div>
            </div>
            
            <div class="absolute bottom-10 text-gray-700 text-[10px] font-mono" id="version-display-splash">
                Iniciando...
            </div>
        </div>

        <!-- ====================================================== -->
        <!-- PANTALLA 2: LOBBY (Las Dos Puertas)                    -->
        <!-- ====================================================== -->
        <div id="lobby-screen" class="hidden flex-grow flex flex-col w-full h-full overflow-y-auto animate-fadeIn relative z-10">
            
            <div class="flex-grow flex flex-col justify-center items-center p-6 space-y-8 pb-24">
                
                <div class="text-center space-y-1">
                    <h2 class="text-xl text-gray-400 tracking-wider font-light">Bienvenido al</h2>
                    <h1 class="text-5xl font-black text-white uppercase tracking-widest drop-shadow-[0_0_15px_rgba(255,255,255,0.3)]">
                        Protocolo<br><span class="text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-purple-500">VIP</span>
                    </h1>
                </div>

                <!-- Bot贸n Login -->
                <button onclick="signInWithGoogle()" class="w-full max-w-xs bg-white/5 border border-white/10 hover:bg-white/10 active:scale-95 transition-all rounded-lg py-3 px-4 flex items-center justify-center space-x-3 backdrop-blur-md">
                    <i class="fab fa-google text-white"></i>
                    <span class="text-sm font-bold text-gray-200">Acceso con Google</span>
                </button>

                <!-- Puertas -->
                <div class="w-full flex flex-col items-center space-y-6">
                    <div class="w-full flex flex-col items-center group">
                        <a href="fan/index.html" class="btn-neon btn-neon-fan">
                            <i class="fas fa-headphones-alt mr-3"></i> FAN
                        </a>
                        <p class="text-[10px] text-cyan-500/70 mt-2 uppercase tracking-widest opacity-70">M煤sica & Trueque</p>
                    </div>

                    <div class="w-full flex flex-col items-center group">
                        <a href="vip/index.html" class="btn-neon btn-neon-vip">
                            <i class="fas fa-gem mr-3"></i> VIP
                        </a>
                        <p class="text-[10px] text-fuchsia-500/70 mt-2 uppercase tracking-widest opacity-70">Grok & Cripto</p>
                    </div>
                </div>

                <!-- Redes Sociales -->
                <div class="flex justify-center space-x-6 pt-2">
                    <a href="https://facebook.com" target="_blank" class="text-gray-500 hover:text-blue-600 transition-colors text-2xl social-icon">
                        <i class="fab fa-facebook-f"></i>
                    </a>
                    <a href="https://tiktok.com" target="_blank" class="text-gray-500 hover:text-pink-500 transition-colors text-2xl social-icon">
                        <i class="fab fa-tiktok"></i>
                    </a>
                    <a href="https://youtube.com" target="_blank" class="text-gray-500 hover:text-red-600 transition-colors text-2xl social-icon">
                        <i class="fab fa-youtube"></i>
                    </a>
                    <a href="https://x.com" target="_blank" class="text-gray-500 hover:text-white transition-colors text-2xl social-icon">
                        <i class="fab fa-twitter"></i>
                    </a>
                    <a href="https://instagram.com" target="_blank" class="text-gray-500 hover:text-purple-500 transition-colors text-2xl social-icon">
                        <i class="fab fa-instagram"></i>
                    </a>
                </div>

            </div>
        </div>
    </div>

    <!-- Footer Actualizado -->
    <footer class="fixed bottom-0 w-full text-center py-3 bg-black/90 backdrop-blur-md z-30 border-t border-white/5">
        <div class="flex flex-col justify-center items-center">
            <!-- Texto editado como solicitaste -->
            <p class="text-[10px] text-gray-600">漏 2025 Todos los derechos reservados.</p>
            <p class="text-[9px] text-gray-800 mt-1 uppercase tracking-widest">
                v<span id="version-number">1.5</span>
            </p>
        </div>
    </footer>

    <script>
        // ==============================================================
        //  CONTROL DE VERSIONES ESTABLE
        // ==============================================================
        const APP_VERSION = "1.5"; // Versi贸n actualizada

        function checkVersionStable() {
            document.getElementById('version-number').innerText = APP_VERSION;
            document.getElementById('version-display-splash').innerText = "v" + APP_VERSION;

            const savedVersion = localStorage.getItem('app_version');

            if (savedVersion !== APP_VERSION) {
                console.log("隆Nueva versi贸n detectada!");
                localStorage.setItem('app_version', APP_VERSION);
                
                if ('serviceWorker' in navigator) {
                    navigator.serviceWorker.getRegistrations().then(function(registrations) {
                        for(let registration of registrations) {
                            registration.unregister();
                        }
                    });
                }
            }
        }

        // ==============================================================
        //  CONFIGURACIN FIREBASE
        // ==============================================================
        const firebaseConfig = {
            apiKey: "TU_API_KEY_REAL", 
            authDomain: "tu-app.firebaseapp.com",
            projectId: "tu-app",
        };

        try {
            if (!firebase.apps.length) {
                firebase.initializeApp(firebaseConfig);
            }
        } catch (e) {
            console.log("Firebase no iniciado (faltan credenciales reales)");
        }

        function signInWithGoogle() {
            try {
                const provider = new firebase.auth.GoogleAuthProvider();
                firebase.auth().signInWithPopup(provider)
                    .then((result) => alert("Hola " + result.user.displayName))
                    .catch((error) => alert("Error Auth: " + error.message));
            } catch (e) {
                alert("Falta configurar la API KEY de Firebase en el c贸digo.");
            }
        }

        // ==============================================================
        //  NAVEGACIN Y MEMORIA DE SESIN
        // ==============================================================
        const splashScreen = document.getElementById('splash-screen');
        const lobbyScreen = document.getElementById('lobby-screen');

        function initApp() {
            checkVersionStable();

            const sessionActive = sessionStorage.getItem('session_active_v2');

            if (sessionActive) {
                splashScreen.style.display = 'none';
                lobbyScreen.classList.remove('hidden');
            } else {
                setTimeout(() => {
                    splashScreen.style.opacity = '0';
                    setTimeout(() => {
                        splashScreen.style.display = 'none';
                        lobbyScreen.classList.remove('hidden');
                        sessionStorage.setItem('session_active_v2', 'true');
                    }, 1000); 
                }, 3000);
            }
        }

        window.addEventListener('load', initApp);
    </script>
</body>
</html>
